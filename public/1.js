(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{17:function(t,o,e){var r=e(179);"string"==typeof r&&(r=[[t.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};e(4)(r,a);r.locals&&(t.exports=r.locals)},178:function(t,o,e){"use strict";var r=e(17);e.n(r).a},179:function(t,o,e){(t.exports=e(3)(!1)).push([t.i,"\n.imagem-responsiva[data-v-153186a7] {\n\n  width: 100%;\n}\n  \n",""])},18:function(t,o,e){var r=e(181);"string"==typeof r&&(r=[[t.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};e(4)(r,a);r.locals&&(t.exports=r.locals)},180:function(t,o,e){"use strict";var r=e(18);e.n(r).a},181:function(t,o,e){(t.exports=e(3)(!1)).push([t.i,".botao {\n  display: inline-block;\n  padding: 10px;\n  border-radius: 3px;\n  margin: 10px;\n  font-size: 1.2em;\n}\n.botao-perigo {\n  background: firebrick;\n  color: white;\n}\n.botao-padrao {\n  background: darkcyan;\n  color: white;\n}",""])},182:function(t,o,e){"use strict";var r=e(19);e.n(r).a},183:function(t,o,e){(t.exports=e(3)(!1)).push([t.i,"\n.centralizado[data-v-78cd1946] {\n   text-align: center;\n}\n.controle[data-v-78cd1946] {\n   font-size: 1.2em;\n   margin-bottom: 20px;\n}\n.controle label[data-v-78cd1946] {\n   display: block;\n   font-weight: bold;\n}\n.controle label + input[data-v-78cd1946], .controle textarea[data-v-78cd1946] {\n   width: 100%;\n   font-size: inherit;\n   border-radius: 5px\n}\n.centralizado[data-v-78cd1946] {\n   text-align: center;\n}\n.erro[data-v-78cd1946] {\n   color: red;\n} \n",""])},19:function(t,o,e){var r=e(183);"string"==typeof r&&(r=[[t.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};e(4)(r,a);r.locals&&(t.exports=r.locals)},505:function(t,o,e){"use strict";e.r(o);var r={props:["url","titulo"]},a=(e(178),e(0)),n=Object(a.a)(r,(function(){var t=this.$createElement;return(this._self._c||t)("img",{staticClass:"imagem-responsiva",attrs:{src:this.url,alt:this.titulo}})}),[],!1,null,"153186a7",null).exports,i={props:{tipo:{required:!0,type:String},rotulo:{required:!0,type:String},confirmacao:Boolean,estilo:String},methods:{disparaAcao:function(){this.confirmacao?confirm("Confirma operação?")&&this.$emit("botaoAtivado"):this.$emit("botaoAtivado")}},computed:{estiloDoBotao:function(){return"padrao"!=this.estilo&&this.estilo?"perigo"==this.estilo?"botao-perigo":void 0:"botao-padrao"}}},s=(e(180),Object(a.a)(i,(function(){var t=this,o=t.$createElement;return(t._self._c||o)("button",{staticClass:"botao",class:t.estiloDoBotao,attrs:{type:t.tipo},on:{click:function(o){return t.disparaAcao()}}},[t._v(t._s(t.rotulo))])}),[],!1,null,null,null).exports);function l(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}var u=function t(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";l(this,t),this.titulo=o,this.url=e,this.descricao=r};function c(t,o){for(var e=0;e<o.length;e++){var r=o[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var v=function(){function t(o){!function(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this,t),this._resource=o("v1/fotos{/id}")}var o,e,r;return o=t,(e=[{key:"lista",value:function(){return this._resource.query().then((function(t){return t.json()}),(function(t){throw console.log(t),new Error("Não foi possível obter as fotos")}))}},{key:"cadastra",value:function(t){return t._id?this._resource.update({id:t._id},t):this._resource.save(t)}},{key:"apaga",value:function(t){return this._resource.delete({id:t}).then(null,(function(t){throw console.log(t),new Error("Não foi possível remover a foto")}))}},{key:"busca",value:function(t){return this._resource.get({id:t}).then((function(t){return t.json()}))}}])&&c(o.prototype,e),r&&c(o,r),t}(),d={components:{"imagem-responsiva":n,"meu-botao":s},data:function(){return{foto:new u,id:this.$route.params.id}},methods:{grava:function(){var t=this;this.$validator.validateAll().then((function(o){o&&t.service.cadastra(t.foto).then((function(){t.id&&t.$router.push({name:"home"}),t.foto=new u}),(function(t){return console.log(t)}))}))}},created:function(){var t=this;this.service=new v(this.$resource),this.id&&this.service.busca(this.id).then((function(o){return t.foto=o}))}},f=(e(182),Object(a.a)(d,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("h1",{staticClass:"centralizado"},[t._v("Cadastro")]),t._v(" "),e("h2",{staticClass:"centralizado"},[t._v(t._s(t.foto.titulo))]),t._v(" "),t.foto._id?e("h2",{staticClass:"centralizado"},[t._v("Alterando")]):e("h2",{staticClass:"centralizado"},[t._v("Incluindo")]),t._v(" "),e("form",{on:{submit:function(o){return o.preventDefault(),t.grava()}}},[e("div",{staticClass:"controle"},[e("label",{attrs:{for:"titulo"}},[t._v("TÍTULO")]),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate"},{name:"model",rawName:"v-model",value:t.foto.titulo,expression:"foto.titulo"}],attrs:{"data-vv-as":"título",name:"titulo","data-vv-rules":"required|min:3|max:30",id:"titulo",autocomplete:"off"},domProps:{value:t.foto.titulo},on:{input:function(o){o.target.composing||t.$set(t.foto,"titulo",o.target.value)}}}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("titulo"),expression:"errors.has('titulo')"}],staticClass:"erro"},[t._v(t._s(t.errors.first("titulo")))])]),t._v(" "),e("div",{staticClass:"controle"},[e("label",{attrs:{for:"url"}},[t._v("URL")]),t._v(" "),e("input",{directives:[{name:"validate",rawName:"v-validate"},{name:"model",rawName:"v-model",value:t.foto.url,expression:"foto.url"}],attrs:{name:"url","data-vv-rules":"required",id:"url",autocomplete:"off"},domProps:{value:t.foto.url},on:{input:function(o){o.target.composing||t.$set(t.foto,"url",o.target.value)}}}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("url"),expression:"errors.has('url')"}],staticClass:"erro"},[t._v(t._s(t.errors.first("url")))]),t._v(" "),e("imagem-responsiva",{directives:[{name:"show",rawName:"v-show",value:t.foto.url,expression:"foto.url"}],attrs:{url:t.foto.url,titulo:t.foto.titulo}})],1),t._v(" "),e("div",{staticClass:"controle"},[e("label",{attrs:{for:"descricao"}},[t._v("DESCRIÇÃO")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.foto.descricao,expression:"foto.descricao"}],attrs:{id:"descricao",autocomplete:"off"},domProps:{value:t.foto.descricao},on:{input:function(o){o.target.composing||t.$set(t.foto,"descricao",o.target.value)}}})]),t._v(" "),e("div",{staticClass:"centralizado"},[e("meu-botao",{attrs:{rotulo:"GRAVAR",tipo:"submit"}}),t._v(" "),e("router-link",{attrs:{to:{name:"home"}}},[e("meu-botao",{attrs:{rotulo:"VOLTAR",tipo:"button"}})],1)],1)])])}),[],!1,null,"78cd1946",null));o.default=f.exports}}]);